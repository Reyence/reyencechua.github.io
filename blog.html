<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Blog — Reyence Chua</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <meta name="description" content="AI & STEM blog by Reyence Chua — experiments, research updates, tutorials and reflections." />
  <style>
    /* ====== Minimal, modern blog styles (keeps in sync with your site) ====== */
    :root{
      --bg:#fafafa; --card:#fff; --ink:#111; --muted:#666; --accent:#29abe2; --glass: rgba(255,255,255,0.7);
      --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg); color:var(--ink); margin:0; -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale; line-height:1.5;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}

    /* Top nav */
    .nav {
      display:flex; align-items:center; justify-content:space-between;
      max-width:var(--max); margin:1.1rem auto; padding: .4rem;
    }
    .nav .brand { font-weight:700; font-size:1.05rem; }
    .nav .links { display:flex; gap:.8rem; align-items:center; }
    .nav .links a.btn{ background:var(--card); padding:.45rem .7rem; border-radius:8px; border:1px solid #eee; font-weight:600; box-shadow:0 4px 12px rgba(0,0,0,0.04) }
    .nav .links a.btn.primary{ background:var(--accent); color:#fff; border-color:transparent }

    /* Page container */
    .wrap { max-width:var(--max); margin:0 auto; padding:1.2rem; }

    .hero {
      background: linear-gradient(135deg,#4f00bc,#29abe2);
      color:#fff; padding:2.2rem; border-radius:12px; margin-bottom:1rem;
      box-shadow: 0 12px 30px rgba(0,0,0,.12);
    }
    .hero h1{ margin:0 0 .25rem 0; font-size:1.4rem; }
    .hero p{ margin:0; color:rgba(255,255,255,.95); opacity:.95 }

    /* Layout: sidebar + content on wide screens */
    .layout { display:grid; grid-template-columns: 1fr; gap:1.2rem; margin-top:1rem; }
    @media(min-width:980px){ .layout{ grid-template-columns: 320px 1fr; } }

    /* Left column: filters + about */
    .left {
      position:sticky; top:1rem; align-self:start; background:var(--card); padding:1rem; border-radius:10px;
      box-shadow:0 8px 20px rgba(15,15,15,0.04);
    }
    .left h3{ margin:.1rem 0 .6rem 0 }
    .search { display:flex; gap:.5rem; margin-bottom:1rem; }
    .search input{ flex:1; padding:.6rem .75rem; border-radius:8px; border:1px solid #eee;}
    .filters { display:flex; gap:.5rem; flex-wrap:wrap; margin-bottom:.8rem; }
    .chip { padding:.3rem .6rem; border-radius:999px; background:#f2f8ff; color:var(--accent); font-weight:600; border:1px solid rgba(41,171,226,.12); cursor:pointer; }
    .chip.active{ background:var(--accent); color:#fff; }

    .meta { font-size:.92rem; color:var(--muted); margin-top:.8rem; line-height:1.4; }

    /* Post list */
    .posts { display:flex; flex-direction:column; gap:1rem; }
    .card {
      background:var(--card); padding:1rem; border-radius:10px; display:grid; grid-template-columns: 120px 1fr; gap:1rem;
      align-items:center; box-shadow:0 6px 18px rgba(0,0,0,.04);
    }
    .card img{ width:120px; height:80px; object-fit:cover; border-radius:8px; }
    .card h4{ margin:0 0 .3rem 0 }
    .card p{ margin:0; color:var(--muted); font-size:.95rem }
    .card .meta{ font-size:.82rem; color:var(--muted); margin-top:.55rem }

    /* Read view */
    .article {
      background:var(--card); padding:1.2rem; border-radius:10px; box-shadow:0 12px 30px rgba(0,0,0,.06);
    }
    .article h2{ margin:.1rem 0 .5rem 0 }
    .article .lead{ color:var(--muted); margin-bottom:.8rem }
    .article .meta{ font-size:.9rem; color:var(--muted); margin-bottom:1rem }
    .article img.hero{ width:100%; max-height:360px; object-fit:cover; border-radius:8px; margin-bottom:1rem; }

    .content { margin-top:.6rem; color:var(--ink) }
    .content p{ margin:.6rem 0 }
    .content pre{ background:#0f1724; color:#fff; padding: .8rem; overflow:auto; border-radius:8px; font-family: monospace; font-size:.9rem }
    .tags { margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap }
    .tag{ padding:.3rem .55rem; border-radius:6px; background:#f0f6fb; color:var(--accent); font-weight:600 }

    /* Reading time */
    .reading-time { color:var(--muted); font-size:.92rem; margin-left:.6rem }

    /* Empty / no results */
    .empty { text-align:center; color:var(--muted); padding:1.2rem; }

    /* Footer small */
    .mini-footer { text-align:center; color:var(--muted); margin:1.8rem 0 4rem; font-size:.95rem }

    /* Utility */
    .small { font-size:.9rem; color:var(--muted) }
    button.reset{ border:0; background:transparent; color:var(--accent); font-weight:700; cursor:pointer }
  </style>
</head>
<body>

  <!-- Top nav -->
  <div class="nav wrap">
    <div class="brand"><a href="index.html" style="color:inherit; text-decoration:none;">Reyence Chua</a> — Blog</div>
    <div class="links">
      <a class="btn" href="index.html">Home</a>
      <a class="btn" href="cv.html">CV</a>
      <a class="btn primary" href="blog.html">AI & STEM</a>
    </div>
  </div>

  <main class="wrap">

    <section class="hero">
      <h1>AI & STEM Lab notes</h1>
      <p>Short, focused posts on experiments, model updates, and project diaries. Research-first — written to be useful to other students and researchers.</p>
    </section>

    <div class="layout">

      <!-- LEFT: search, filters, about -->
      <aside class="left" aria-label="blog controls">
        <h3>Search & Filters</h3>
        <div class="search">
          <input id="q" placeholder="Search posts, keywords, methods (e.g. 'LSTM', 'MRI')" />
          <button id="clear" class="reset">Clear</button>
        </div>

        <div class="filters" id="filters"></div>

        <div class="meta">
          <strong>How this blog works:</strong>
          <p class="small">Posts are short research updates, experiments, and tutorials. Click a post to read the full entry. Add new entries by editing the `posts` array in the bottom of this file.</p>
        </div>

        <hr style="border:none; border-top:1px solid #f0f0f0; margin:12px 0">

        <h3>Quick links</h3>
        <div style="display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem">
          <a class="small" href="cv.html">→ View CV</a>
          <a class="small" href="index.html#research">→ Research (home)</a>
          <a class="small" href="mailto:r.chua.imail@gmail.com" target="_blank">→ Email</a>
        </div>
      </aside>

      <!-- RIGHT: posts + read view -->
      <section class="main">

        <!-- Post list -->
        <div id="listView" class="posts" aria-live="polite"></div>

        <!-- Read / article view -->
        <div id="readView" class="article" style="display:none"></div>

        <div id="empty" class="empty" style="display:none">No posts found.</div>

      </section>
    </div>

    <div class="mini-footer">© 2025 Reyence Chua — AI & STEM blog</div>
  </main>

  <script>
    /******************************************************************
     * POSTS ARRAY:
     * Each post is an object: { id, title, date (YYYY-MM-DD), tags:[], 
     *   summary, contentHTML (string), hero (image path), thumbnail (image path) }
     * 
     * To add a post: copy one object, increment id, fill fields and contentHTML
     * contentHTML can contain safe HTML (paragraphs, <pre>, <code>, lists, images)
     ******************************************************************/
    const posts = [
      {
        id: "2025-09-05-myocardial-fibrosis",
        title: "Project Diary — 3D One-Shot Model for Myocardial Fibrosis Segmentation (MRI)",
        date: "2025-09-05",
        tags: ["medical-imaging","computer-vision","deep-learning","research-update"],
        summary: "Starting a 3D one-shot deep learning pipeline to detect and segment myocardial fibrosis from LGE CMR scans. Current stage: pretraining tests on mixed public datasets (nrrd).",
        thumbnail: "assets/images/blog_mri_thumb.jpg",
        hero: "assets/images/blog_mri_hero.jpg",
        contentHTML: `
          <p class="lead"><strong>5 September 2025 — project notes</strong></p>

          <p>Short version: I'm building a <strong>3D one-shot deep learning</strong> model to auto-detect and segment <strong>myocardial fibrosis</strong> on late-gadolinium enhancement (LGE) cardiac MRI. I'm currently in the <em>pretraining / test</em> stage — lots of broken pipelines, shape mismatches, and crashes, but the signal is promising and the problem is worth chasing.</p>

          <h3>Why this problem?</h3>
          <p>I started browsing open datasets on Kaggle and other challenge portals to broaden my work from pure NLP into computer vision. Several medical imaging datasets (heart and brain) caught my eye. After reading literature on difficult-to-detect anomalies in cardiac scans, myocardial fibrosis stood out: it is clinically important, and segmentation can be subtle depending on acquisition and contrast timing.</p>
            
          <h3>Notes / tools</h3>
          <p>I’m using <strong>Python</strong>, and PyTorch. Code will be pushed to my GitHub project repo once the pretraining pipeline stabilizes.</p>

    
          <div class="tags">
            <span class="tag">medical-imaging</span>
            <span class="tag">LGE CMR</span>
            <span class="tag">3D-CV</span>
            <span class="tag">one-shot</span>
            <span class="tag">PyTorch</span>
          </div>
        `
      }
      
      /* ------------------------------------------------------------------
        Add more post objects here following the same shape:
        {
          id: "2025-08-xx-short-title",
          title: "Your title",
          date: "YYYY-MM-DD",
          tags: ["tag1","tag2"],
          summary: "short teaser",
          thumbnail: "assets/images/your_thumb.jpg",
          hero: "assets/images/your_hero.jpg",
          contentHTML: "<p>Full content as HTML</p>"
        }
      ------------------------------------------------------------------ */
    ];

    /***********************
     * Simple Blog Renderer
     ***********************/
    const listView = document.getElementById('listView');
    const readView = document.getElementById('readView');
    const filtersEl = document.getElementById('filters');
    const searchInput = document.getElementById('q');
    const emptyEl = document.getElementById('empty');
    const clearBtn = document.getElementById('clear');

    // Utility: format date -> readable
    function niceDate(iso){ const d=new Date(iso); return d.toLocaleDateString('en-GB', { day:'numeric', month:'short', year:'numeric' }) }

    // reading time estimator
    function readingTimeFromHTML(html){
      const text = html.replace(/<[^>]+>/g,' ').trim();
      const words = text.split(/\s+/).length;
      const mins = Math.max(1, Math.round(words / 200));
      return `${mins} min read`;
    }

    // collect all tags
    const allTags = Array.from(new Set(posts.flatMap(p=>p.tags))).sort();

    // render filter chips
    function renderFilters(){
      filtersEl.innerHTML = '';
      const allChip = document.createElement('div');
      allChip.className = 'chip active';
      allChip.textContent = 'All';
      allChip.onclick = ()=>{ document.querySelectorAll('.chip').forEach(c=>c.classList.remove('active')); allChip.classList.add('active'); renderList(); }
      filtersEl.appendChild(allChip);
      allTags.forEach(t=>{
        const c = document.createElement('div');
        c.className = 'chip';
        c.textContent = t;
        c.onclick = ()=>{
          document.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));
          c.classList.add('active');
          renderList(t);
        };
        filtersEl.appendChild(c);
      });
    }

    // render card list
    function renderList(activeTag=null, query=''){
      listView.innerHTML = '';
      readView.style.display='none';
      emptyEl.style.display='none';

      const q = (query || '').trim().toLowerCase();
      const filtered = posts
        .filter(p => !activeTag || activeTag==='All' || p.tags.includes(activeTag))
        .filter(p => {
          if(!q) return true;
          return (p.title + ' ' + p.summary + ' ' + p.tags.join(' ')).toLowerCase().includes(q);
        })
        .sort((a,b)=> b.date.localeCompare(a.date));

      if(filtered.length===0){
        emptyEl.style.display='block';
        return;
      }

      filtered.forEach(p => {
        const el = document.createElement('article');
        el.className='card';
        el.innerHTML = `
          <img src="${p.thumbnail||'assets/images/blog_placeholder.jpg'}" alt="${p.title} thumbnail" loading="lazy" />
          <div>
            <h4><a href="#" data-id="${p.id}">${p.title}</a></h4>
            <p>${p.summary}</p>
            <div class="meta">${niceDate(p.date)} • <span class="small">${p.tags.join(', ')}</span>
              <span class="reading-time">• ${readingTimeFromHTML(p.contentHTML)}</span>
            </div>
          </div>
        `;
        listView.appendChild(el);

        // click opens read view
        el.querySelector('a').addEventListener('click', (ev)=>{
          ev.preventDefault();
          openPost(p.id);
        });
      });
    }

    // render single post in readView
    function openPost(id){
      const p = posts.find(x=>x.id===id);
      if(!p) return;
      readView.style.display = 'block';
      readView.innerHTML = `
        <div class="small">${niceDate(p.date)} • ${p.tags.join(' • ')} <span class="reading-time">• ${readingTimeFromHTML(p.contentHTML)}</span></div>
        <h2>${p.title}</h2>
        <div class="meta">By Reyence Chua</div>
        ${p.hero ? `<img class="hero" src="${p.hero}" alt="${p.title} hero image" loading="lazy" />` : ''}
        <div class="content">${p.contentHTML}</div>
        <div style="margin-top:1rem"><a href="#" id="backToList">← Back to posts</a></div>
      `;
      document.getElementById('backToList').addEventListener('click', (e)=>{
        e.preventDefault();
        readView.style.display='none';
      });
      window.scrollTo({top:0, behavior:'smooth'});
    }

    // wire search
    let searchTimer = null;
    searchInput.addEventListener('input', ()=>{
      clearTimeout(searchTimer);
      searchTimer = setTimeout(()=>{ renderList(document.querySelector('.chip.active')?.textContent==='All' ? null : document.querySelector('.chip.active')?.textContent, searchInput.value); }, 180);
    });
    clearBtn.addEventListener('click', ()=>{ searchInput.value=''; renderList(); });

    // initial render
    renderFilters();
    renderList();

    // Expose helper so you can open a post by id from URL: e.g. blog.html#2025-09-05-myocardial-fibrosis
    (function openFromHash(){
      const id = location.hash?.slice(1);
      if(id){
        const exists = posts.find(p=>p.id===id);
        if(exists) openPost(id);
      }
    })();

  </script>
</body>
</html>
